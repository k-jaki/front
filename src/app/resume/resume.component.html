<div class="container">
  <div class="row">
    <div class="col-md-6">
      <form (ngSubmit)="onUpload()" enctype="multipart/form-data">  
        <div class="form-group files color">
          <label>Upload Your File</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)" multiple>
        </div>    
        <button type="submit" class="btn btn-primary" [disabled]="loading">Upload</button>
      </form>    
    </div>
    <div class="col-md-6">
      <h3>Resume Response</h3>
      <div *ngIf="resume">
        <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Personal Information</nz-typography>
        <div *ngIf="resume">
          <p><strong>Name:</strong> <nz-typography [nzEditable]="true">{{ resume.name }}</nz-typography></p>
          <p><strong>Email:</strong> <nz-typography [nzEditable]="true">{{ resume.email }}</nz-typography></p>
          <p><strong>Phone Number:</strong> <nz-typography [nzEditable]="true">{{ resume.phone_number }}</nz-typography></p>
          <p><strong>LinkedIn:</strong> <nz-typography [nzEditable]="true">{{ resume.linkedin }}</nz-typography></p>
          <p><strong>Address:</strong> <nz-typography [nzEditable]="true">{{ resume.address }}</nz-typography></p>
          <p><strong>Location:</strong> <nz-typography [nzEditable]="true">{{ resume.location }}</nz-typography></p>
          <p><strong>Main Job:</strong> <nz-typography [nzEditable]="true">{{ resume.main_job }}</nz-typography></p>
          <p><strong>Summary:</strong> <nz-typography [nzEditable]="true">{{ resume.summary }}</nz-typography></p>
          
          <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Skills</nz-typography>
          <ul>
            <li *ngFor="let skill of resume.skills">{{ skill }}</li>
          </ul>
          
          <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Additional Skills</nz-typography>
          <ul>
            <li *ngFor="let additionalSkill of resume.additional_skills">{{ additionalSkill }}</li>
          </ul>
          
          <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Education</nz-typography>
          <div *ngFor="let edu of resume.education">
            <p><strong>Degree:</strong> <nz-typography [nzEditable]="true">{{ edu.degree }}</nz-typography></p>
            <p><strong>University:</strong> <nz-typography [nzEditable]="true">{{ edu.university }}</nz-typography></p>
            <p><strong>Graduation Year:</strong> <nz-typography [nzEditable]="true">{{ edu.graduation_year }}</nz-typography></p>
            <p><strong>Relevant Skills:</strong></p>
            <ul>
              <li *ngFor="let skill of edu.relevant_skills">{{ skill }}</li>
            </ul>
          </div>
          
          <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Formation</nz-typography>
          <div *ngFor="let course of resume.formation">
            <p><strong>Course:</strong> <nz-typography [nzEditable]="true">{{ course.course }}</nz-typography></p>
            <p><strong>Institution:</strong> <nz-typography [nzEditable]="true">{{ course.institution }}</nz-typography></p>
            <p><strong>Completion Year:</strong> <nz-typography [nzEditable]="true">{{ course.completion_year }}</nz-typography></p>
            <p><strong>Skills Gained:</strong></p>
            <ul>
              <li *ngFor="let skill of course.skills_gained">{{ skill }}</li>
            </ul>
          </div>
          
          <nz-typography nzTitle [nzEditable]="true" nzLevel="3" style="margin: 0;">Work Experience</nz-typography>
          <div *ngFor="let job of resume.work_experience">
            <p><strong>Position:</strong> <nz-typography [nzEditable]="true">{{ job.position }}</nz-typography></p>
            <p><strong>Company:</strong> <nz-typography [nzEditable]="true">{{ job.company }}</nz-typography></p>
            <p><strong>Start Date:</strong> <nz-typography [nzEditable]="true">{{ job.start_date }}</nz-typography></p>
            <p><strong>End Date:</strong> <nz-typography [nzEditable]="true">{{ job.end_date }}</nz-typography></p>
            <p><strong>Location:</strong> <nz-typography [nzEditable]="true">{{ job.location }}</nz-typography></p>
            <p><strong>Responsibilities:</strong> <nz-typography [nzEditable]="true">{{ job.responsibilities }}</nz-typography></p>
          </div>

          <p><strong>Languages:</strong> <nz-typography [nzEditable]="true">{{ resume.languages }}</nz-typography></p>
          <p><strong>Driving License:</strong> <nz-typography [nzEditable]="true">{{ resume.driving_license }}</nz-typography></p>
          <p><strong>Hobbies:</strong> <nz-typography [nzEditable]="true">{{ resume.hobbies }}</nz-typography></p>
          <p><strong>Other Information:</strong> <nz-typography [nzEditable]="true">{{ resume.other_information }}</nz-typography></p>
        </div>
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    </div>
  </div>
  <div class="row" *ngIf="loading">
    <div class="col-md-12 text-center">
      <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
</div>
